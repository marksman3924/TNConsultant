---
interface Props {
  post: {
    id: string;
    title: string;
    slug: string;
    excerpt: string;
    coverImage?: string;
    publishedDate: string;
    tags: string[];
    readingTime?: string;
  };
}

const { post } = Astro.props;
---

<article class="group h-full">
  <a href={`/blog/${post.slug}`} class="block h-full">
    <div class="h-full flex flex-col bg-dark/80 backdrop-blur-md rounded-2xl overflow-hidden border border-cream/10 hover:border-cream/30 transition-all duration-300 hover:bg-dark/90">
      
      <!-- Image -->
      {post.coverImage && (
        <div class="relative aspect-[16/10] overflow-hidden bg-dark-lighter">
          <img 
            src={post.coverImage} 
            alt={post.title}
            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
          />
          <div class="absolute inset-0 bg-gradient-to-t from-dark/80 via-dark/20 to-transparent"></div>
          
          <!-- Category Badge -->
          {post.tags && post.tags.length > 0 && (
            <div class="absolute top-4 left-4">
              <span class="inline-block px-3 py-1 text-xs font-semibold uppercase tracking-wider bg-dark/80 backdrop-blur-sm text-cream border border-cream/20 rounded-full">
                {post.tags[0]}
              </span>
            </div>
          )}
        </div>
      )}

      <!-- Content -->
      <div class="flex-1 flex flex-col p-6">
        
        <!-- Meta -->
        <div class="flex items-center gap-3 text-xs text-gray-light mb-4">
          <span class="flex items-center gap-1">
            <i data-lucide="calendar" class="w-3.5 h-3.5"></i>
            {new Date(post.publishedDate).toLocaleDateString('vi-VN', { 
              year: 'numeric', 
              month: 'long', 
              day: 'numeric' 
            })}
          </span>
          {post.readingTime && (
            <>
              <span class="text-cream/30">•</span>
              <span class="flex items-center gap-1">
                <i data-lucide="clock" class="w-3.5 h-3.5"></i>
                {post.readingTime}
              </span>
            </>
          )}
        </div>

        <!-- Title -->
        <h3 class="font-serif text-xl font-bold text-white mb-3 leading-tight group-hover:text-cream transition-colors">
          {post.title}
        </h3>

        <!-- Excerpt -->
        <p class="text-sm text-gray-light leading-relaxed mb-6 flex-1">
          {post.excerpt}
        </p>

        <!-- Read More -->
        <div class="flex items-center gap-2 text-cream text-sm font-medium group-hover:gap-3 transition-all">
          <span>Đọc tiếp</span>
          <i data-lucide="arrow-right" class="w-4 h-4"></i>
        </div>

      </div>
    </div>
  </a>
</article>